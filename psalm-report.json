{
    "error": [
        {
            "severity": "error",
            "line_from": 100,
            "line_to": 100,
            "type": "InvalidPropertyAssignmentValue",
            "message": "$this->executedCheckoutPreCheckProviders with declared type 'array<array-key, string>' cannot be assigned type 'non-empty-array<array-key, null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "            $this->executedCheckoutPreCheckProviders[] = $paymentProvider;",
            "selected_text": "$this->executedCheckoutPreCheckProviders",
            "error_level": 6,
            "shortcode": 145
        },
        {
            "severity": "error",
            "line_from": 127,
            "line_to": 127,
            "type": "InvalidPropertyAssignmentValue",
            "message": "$this->executedCheckoutSaveOrderProviders with declared type 'array<array-key, string>' cannot be assigned type 'non-empty-array<array-key, null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "            $this->executedCheckoutSaveOrderProviders[] = $paymentProvider;",
            "selected_text": "$this->executedCheckoutSaveOrderProviders",
            "error_level": 6,
            "shortcode": 145
        },
        {
            "severity": "error",
            "line_from": 150,
            "line_to": 150,
            "type": "InvalidPropertyAssignmentValue",
            "message": "$this->executedCheckoutPostSaveProviders with declared type 'array<array-key, string>' cannot be assigned type 'non-empty-array<array-key, null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "            $this->executedCheckoutPostSaveProviders[] = $paymentProvider;",
            "selected_text": "$this->executedCheckoutPostSaveProviders",
            "error_level": 6,
            "shortcode": 145
        }
    ],
    "warning": [
        {
            "severity": "info",
            "line_from": 87,
            "line_to": 87,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Business\\Checkout\\PaymentPluginExecutor::mergePayments expects ArrayObject<int, Generated\\Shared\\Transfer\\PaymentTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\PaymentTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "$quoteTransfer->getPayments()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 97,
            "line_to": 97,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\CheckoutErrorTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "            $errorCountBefore = $checkoutResponseTransfer->getErrors()->count();",
            "selected_text": "count",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 99,
            "line_to": 99,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\CheckoutErrorTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "            $isPassed = $isPassed && ($errorCountBefore === $checkoutResponseTransfer->getErrors()->count());",
            "selected_text": "count",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 116,
            "line_to": 116,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Business\\Checkout\\PaymentPluginExecutor::mergePayments expects ArrayObject<int, Generated\\Shared\\Transfer\\PaymentTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\PaymentTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "$quoteTransfer->getPayments()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 139,
            "line_to": 139,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Business\\Checkout\\PaymentPluginExecutor::mergePayments expects ArrayObject<int, Generated\\Shared\\Transfer\\PaymentTransfer>, possibly different type ArrayObject|array<array-key, Generated\\Shared\\Transfer\\PaymentTransfer> provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "$quoteTransfer->getPayments()",
            "error_level": 3,
            "shortcode": 92
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Persistence\\SalesPaymentRepositoryInterface::findSalesPaymentsByIdSalesOrder cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentExpander.php",
            "snippet": "        $salesPaymentTransfers = $this->repository->findSalesPaymentsByIdSalesOrder($orderTransfer->getIdSalesOrder());",
            "selected_text": "$orderTransfer->getIdSalesOrder()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 78,
            "line_to": 78,
            "type": "PossiblyNullReference",
            "message": "Cannot call method setPriceToPay on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentExpander.php",
            "snippet": "        $orderTransfer->getTotals()->setPriceToPay($this->calculatePriceToPay($orderTransfer));",
            "selected_text": "setPriceToPay",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 90,
            "line_to": 90,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getGrandTotal on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentExpander.php",
            "snippet": "        $priceToPay = $orderTransfer->getTotals()->getGrandTotal();",
            "selected_text": "getGrandTotal",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 101,
            "line_to": 101,
            "type": "PossiblyNullOperand",
            "message": "Left operand cannot be nullable, got int|mixed|null",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentExpander.php",
            "snippet": "            $priceToPay = $priceToPay - $paymentTransfer->getAvailableAmount();",
            "selected_text": "$priceToPay",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 101,
            "line_to": 101,
            "type": "PossiblyNullOperand",
            "message": "Right operand cannot be nullable, got int|mixed|null",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentExpander.php",
            "snippet": "            $priceToPay = $priceToPay - $paymentTransfer->getAvailableAmount();",
            "selected_text": "$paymentTransfer->getAvailableAmount()",
            "error_level": 1,
            "shortcode": 80
        },
        {
            "severity": "info",
            "line_from": 46,
            "line_to": 46,
            "type": "PossiblyNullReference",
            "message": "Cannot call method requireIdSalesOrder on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "            ->requireIdSalesOrder();",
            "selected_text": "requireIdSalesOrder",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "PossiblyNullReference",
            "message": "Cannot call method getIdSalesOrder on possibly null value",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "        $idSalesOrder = $checkoutResponse->getSaveOrder()->getIdSalesOrder();",
            "selected_text": "getIdSalesOrder",
            "error_level": 3,
            "shortcode": 83
        },
        {
            "severity": "info",
            "line_from": 51,
            "line_to": 51,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Zed\\SalesPayment\\Business\\Order\\SalesPaymentSaver::executeSavePaymentMethodsTransaction cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "            $this->executeSavePaymentMethodsTransaction($quoteTransfer, $idSalesOrder);",
            "selected_text": "$idSalesOrder",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 120,
            "line_to": 120,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of sprintf cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "            $paymentTransfer->getPaymentProvider(),",
            "selected_text": "$paymentTransfer->getPaymentProvider()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 121,
            "line_to": 121,
            "type": "PossiblyNullArgument",
            "message": "Argument 3 of sprintf cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "            $paymentTransfer->getPaymentMethod()",
            "selected_text": "$paymentTransfer->getPaymentMethod()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 28,
            "line_to": 28,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Persistence\\SalesPaymentEntityManager::getSalesPaymentMethodTypeId cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Persistence/SalesPaymentEntityManager.php",
            "snippet": "            $salesPaymentTransfer->getPaymentProvider(),",
            "selected_text": "$salesPaymentTransfer->getPaymentProvider()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 29,
            "line_to": 29,
            "type": "PossiblyNullArgument",
            "message": "Argument 2 of Spryker\\Zed\\SalesPayment\\Persistence\\SalesPaymentEntityManager::getSalesPaymentMethodTypeId cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Persistence/SalesPaymentEntityManager.php",
            "snippet": "            $salesPaymentTransfer->getPaymentMethod()",
            "selected_text": "$salesPaymentTransfer->getPaymentMethod()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 31,
            "line_to": 31,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\SalesPayment\\Persistence\\Mapper\\SalesPaymentMapper::mapSalesPaymentEntityCollectionToSalesPaymentTransferArray expects Propel\\Runtime\\Collection\\ObjectCollection<Orm\\Zed\\Payment\\Persistence\\SpySalesPayment>, possibly different type Propel\\Runtime\\Collection\\ObjectCollection|array<array-key, Orm\\Zed\\Payment\\Persistence\\SpySalesPayment> provided",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Persistence/SalesPaymentRepository.php",
            "snippet": "            ->mapSalesPaymentEntityCollectionToSalesPaymentTransferArray($salesPayments);",
            "selected_text": "$salesPayments",
            "error_level": 3,
            "shortcode": 92
        }
    ],
    "deprecation": [
        {
            "severity": "info",
            "line_from": 87,
            "line_to": 87,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\QuoteTransfer::getPayment has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "getPayment",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 116,
            "line_to": 116,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\QuoteTransfer::getPayment has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "getPayment",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 139,
            "line_to": 139,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\QuoteTransfer::getPayment has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Checkout/PaymentPluginExecutor.php",
            "snippet": "        $payments = $this->mergePayments($quoteTransfer->getPayments(), $quoteTransfer->getPayment());",
            "selected_text": "getPayment",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 44,
            "line_to": 44,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\CheckoutResponseTransfer::requireSaveOrder has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "        $checkoutResponse->requireSaveOrder()",
            "selected_text": "requireSaveOrder",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 45,
            "line_to": 45,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\CheckoutResponseTransfer::getSaveOrder has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "            ->getSaveOrder()",
            "selected_text": "getSaveOrder",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\CheckoutResponseTransfer::getSaveOrder has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "        $idSalesOrder = $checkoutResponse->getSaveOrder()->getIdSalesOrder();",
            "selected_text": "getSaveOrder",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 63,
            "line_to": 63,
            "type": "DeprecatedMethod",
            "message": "The method Spryker\\Zed\\SalesPayment\\Business\\Order\\SalesPaymentSaver::getPaymentTransfers has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "        $paymentTransfers = $this->getPaymentTransfers($quoteTransfer);",
            "selected_text": "getPaymentTransfers",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 81,
            "line_to": 81,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\QuoteTransfer::getPayment has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Business/Order/SalesPaymentSaver.php",
            "snippet": "        $singlePaymentTransfer = $quoteTransfer->getPayment();",
            "selected_text": "getPayment",
            "error_level": 2,
            "shortcode": 1
        },
        {
            "severity": "info",
            "line_from": 48,
            "line_to": 48,
            "type": "DeprecatedMethod",
            "message": "The method Generated\\Shared\\Transfer\\CheckoutResponseTransfer::setSaveOrder has been marked as deprecated",
            "file_name": "vendor/spryker/spryker/Bundles/SalesPayment/src/Spryker/Zed/SalesPayment/Communication/Plugin/Checkout/SalesPaymentCheckoutOrderSaverPlugin.php",
            "snippet": "        $checkoutResponseTransfer->setSaveOrder($saveOrderTransfer);",
            "selected_text": "setSaveOrder",
            "error_level": 2,
            "shortcode": 1
        }
    ]
}
